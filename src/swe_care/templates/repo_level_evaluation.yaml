system: |-
   [ROLE] You are a senior code reviewer evaluating comment quality.

   [OBJECTIVE] Classify comments as high-quality (1) or low-quality (0) based on impact.

   [CONTEXT]
   - Problem statement, diff, and file context are provided.
   - Focus on whether the comment references changed code and suggests actionable fixes.
   - Think like a developer: would you feel compelled to modify your code in response? If yes, it's likely positive.

   [CRITERIA for label=1]
   ✓ Identifies concrete issue (bug, design, etc.) in the diff
   ✓ Provides specific, actionable fix suggestion
   ✓ References line numbers or code snippets
   ✓ Helps solve the PR's goal

   [CRITERIA for label=0]
   ✗ Generic ("LGTM"), vague, or social
   ✗ Off-topic or nitpicking without impact
   ✗ Incorrect or unhelpful
   ✗ Asks question without identifying flaw

   [OUTPUT]
   Return ONLY valid JSON:
   ```json
   {
       "label": <1 for positive/useful, 0 for negative/not-useful>,
       "reason": "<Explain why this comment is or isn't useful and high-quality>"
   }
   ```

user: |-
   Please analyze the following code review comment and classify it as positive (useful/high-quality) or negative (not useful/low-quality).

   <issue>
   {{ problem_statement }}
   </issue>

   <patch_to_review>
   {{ patch_to_review }}
   </patch_to_review>

   <review>
   {{ formatted_review }}
   </review>
